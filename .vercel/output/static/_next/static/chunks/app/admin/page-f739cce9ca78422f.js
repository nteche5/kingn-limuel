(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{532:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5105).A)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},890:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5105).A)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},1078:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5105).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},4115:(e,s,t)=>{Promise.resolve().then(t.bind(t,8031))},4926:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5105).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},5590:(e,s,t)=>{"use strict";t.d(s,{p:()=>i});var a=t(5155),r=t(2115),l=t(4269);let i=r.forwardRef((e,s)=>{let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("input",t),ref:s,...i})});i.displayName="Input"},5870:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5105).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6468:(e,s,t)=>{"use strict";t.d(s,{p0:()=>c,_p:()=>d,ZT:()=>i});var a=t(945);let r="https://qftyljzbwruydpzzivdx.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFmdHlsanpid3J1eWRwenppdmR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1OTkxNTQsImV4cCI6MjA3NTE3NTE1NH0.rqLcInUQUU8Ns_3NfLey9lI0vMOmM4HQYIZ1XT0idSQ";r&&l&&(0,a.UU)(r,l);let i=()=>"true"===localStorage.getItem("admin-logged-in"),d=()=>{localStorage.removeItem("admin-logged-in"),localStorage.removeItem("admin-remember")},c=()=>i()},7816:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5105).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8031:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>V});var a=t(5155),r=t(2115),l=t(63),i=t(7972),d=t(6468),c=t(1166),n=t(4891),o=t(5538),x=t(2512),m=t(4926),p=t(5105);let h=(0,p.A)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var u=t(1712),y=t(890),j=t(5870),g=t(7828);let w=(0,p.A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),v=(0,p.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),N=(0,p.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var f=t(1360);let b=(0,p.A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var k=t(1786);let A=(0,p.A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var C=t(5590),P=t(9708),S=t(532),M=t(7816),E=t(1078);let I=(0,p.A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var T=t(5704);function z(e){let{onPasswordChange:s}=e,[t,l]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[d,n]=(0,r.useState)({current:!1,new:!1,confirm:!1}),[o,x]=(0,r.useState)(!1),[m,p]=(0,r.useState)(null),h=(e,s)=>{l(t=>({...t,[e]:s})),m&&p(null)},u=e=>{n(s=>({...s,[e]:!s[e]}))},y=async e=>{e.preventDefault(),x(!0),p(null);try{var a;let e=T.env.NEXT_PUBLIC_ADMIN_PASSWORD||"admin123";if(t.currentPassword!==e){p({type:"error",text:"Current password is incorrect"}),x(!1);return}let r=(a=t.newPassword).length<6?"Password must be at least 6 characters long":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(a)?null:"Password must contain at least one uppercase letter, one lowercase letter, and one number";if(r){p({type:"error",text:r}),x(!1);return}if(t.newPassword!==t.confirmPassword){p({type:"error",text:"New passwords do not match"}),x(!1);return}if(t.newPassword===t.currentPassword){p({type:"error",text:"New password must be different from current password"}),x(!1);return}await new Promise(e=>setTimeout(e,1e3)),localStorage.setItem("admin-new-password",t.newPassword),p({type:"success",text:"Password changed successfully! Please restart the application for changes to take effect."}),l({currentPassword:"",newPassword:"",confirmPassword:""}),s&&s(t.newPassword)}catch(e){p({type:"error",text:"Failed to change password. Please try again."})}finally{x(!1)}};return(0,a.jsxs)(i.Zp,{className:"max-w-md mx-auto",children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(P.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Change Admin Password"})]})}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Current Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(C.p,{type:d.current?"text":"password",value:t.currentPassword,onChange:e=>h("currentPassword",e.target.value),placeholder:"Enter current password",className:"pr-10",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>u("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d.current?(0,a.jsx)(S.A,{className:"h-4 w-4 text-gray-400"}):(0,a.jsx)(g.A,{className:"h-4 w-4 text-gray-400"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"New Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(C.p,{type:d.new?"text":"password",value:t.newPassword,onChange:e=>h("newPassword",e.target.value),placeholder:"Enter new password",className:"pr-10",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>u("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d.new?(0,a.jsx)(S.A,{className:"h-4 w-4 text-gray-400"}):(0,a.jsx)(g.A,{className:"h-4 w-4 text-gray-400"})})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Password must be at least 6 characters with uppercase, lowercase, and number"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Confirm New Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(C.p,{type:d.confirm?"text":"password",value:t.confirmPassword,onChange:e=>h("confirmPassword",e.target.value),placeholder:"Confirm new password",className:"pr-10",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>u("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d.confirm?(0,a.jsx)(S.A,{className:"h-4 w-4 text-gray-400"}):(0,a.jsx)(g.A,{className:"h-4 w-4 text-gray-400"})})]})]}),m&&(0,a.jsxs)("div",{className:"p-3 rounded-lg flex items-center space-x-2 ".concat("success"===m.type?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:["success"===m.type?(0,a.jsx)(M.A,{className:"h-4 w-4 text-green-600"}):(0,a.jsx)(E.A,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)("span",{className:"text-sm ".concat("success"===m.type?"text-green-700":"text-red-700"),children:m.text})]}),(0,a.jsx)(c.$,{type:"submit",disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:o?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),(0,a.jsx)("span",{children:"Changing Password..."})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(I,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Change Password"})]})})]})})]})}var R=t(5704);function V(){let e=(0,l.useRouter)(),[s,t]=(0,r.useState)([]),[p,C]=(0,r.useState)(!1),[P,S]=(0,r.useState)({totalProperties:0,totalViews:0,totalRevenue:0,pendingApprovals:0}),[M,E]=(0,r.useState)("overview"),[I,T]=(0,r.useState)(!1),[V,D]=(0,r.useState)(null),[U,B]=(0,r.useState)(!1),[Z,F]=(0,r.useState)(!1),[L,$]=(0,r.useState)(!1),[W,q]=(0,r.useState)(!1),[_,O]=(0,r.useState)(!1),[H,J]=(0,r.useState)(""),[Q,X]=(0,r.useState)(""),[Y,G]=(0,r.useState)(!1),K=new Set(o.map(e=>e.id)),[ee,es]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let s=(0,d.ZT)();if(console.log("Admin dashboard auth check:",{isAdminLoggedIn:s,localStorage:localStorage.getItem("admin-logged-in")}),!s){console.log("Redirecting to admin-login"),e.push("/admin-login");return}C(!0),et(),G((0,x.k)())},[e]);let et=async()=>{try{let e=await fetch("/api/properties",{cache:"no-store"});if(e.ok){let s=await e.json();if(Array.isArray(null==s?void 0:s.properties)){let e=s.properties.map(e=>({...e,createdAt:new Date(e.createdAt||e.created_at||Date.now()),propertyType:e.propertyType,purpose:e.purpose,uploadedBy:e.uploadedBy||"user"}));t(e),es(!0),S({totalProperties:e.length,totalViews:1250,totalRevenue:45e3,pendingApprovals:3});return}}es(!1);let s=localStorage.getItem("king-limuel-properties"),a=s?JSON.parse(s):[],r=[...o.map(e=>({...e,createdAt:new Date(e.createdAt),propertyType:e.propertyType,purpose:e.purpose,uploadedBy:"admin"})),...a.map(e=>({...e,createdAt:new Date(e.createdAt),propertyType:e.propertyType,purpose:e.purpose,uploadedBy:e.uploadedBy}))];t(r),S({totalProperties:r.length,totalViews:1250,totalRevenue:45e3,pendingApprovals:3})}catch(e){console.error("Error loading properties:",e),X("Failed to load properties")}},ea=e=>!K.has(e.id)&&(!!e.id.startsWith("uploaded-")||ee),er=async()=>{if(V){B(!0),X(""),J("");try{if(K.has(V.id))X("Cannot delete default properties.");else if(V.id.startsWith("uploaded-"))(0,x.BJ)(V.id)?J('Property "'.concat(V.title,'" has been deleted successfully.')):X("Failed to delete property. Property may not exist.");else{if(!ee)throw Error("Backend not configured. Set Supabase env vars to delete this property.");let e=await fetch("/api/properties/".concat(V.id),{method:"DELETE"});if(!e.ok){let s=await e.json().catch(()=>({}));throw Error((null==s?void 0:s.error)||"Failed to delete property")}J('Property "'.concat(V.title,'" has been deleted successfully.'))}t(e=>e.filter(e=>e.id!==V.id)),T(!1),V.id,D(null),window.dispatchEvent(new CustomEvent("propertiesUpdated")),setTimeout(()=>J(""),3e3),await et()}catch(e){console.error("Delete error:",e),X(e instanceof Error?e.message:"Failed to delete property")}finally{B(!1)}}},el=async()=>{$(!0),X(""),J("");try{(0,x.i8)()?(J("All uploaded properties have been deleted successfully."),et(),F(!1),window.dispatchEvent(new CustomEvent("propertiesUpdated")),setTimeout(()=>J(""),3e3)):X("No uploaded properties found to delete.")}catch(e){console.error("Delete all error:",e),X(e instanceof Error?e.message:"Failed to delete all properties")}finally{$(!1)}},ei=s.filter(e=>e.id.startsWith("uploaded-")).length,ed=s.filter(e=>!e.id.startsWith("uploaded-")).length,ec=async()=>{O(!0),X(""),J("");try{(0,x.R8)()?(J("All properties have been removed from the website successfully."),G(!0),et(),q(!1),window.dispatchEvent(new CustomEvent("propertiesUpdated")),setTimeout(()=>J(""),3e3)):X("Failed to remove all properties.")}catch(e){console.error("Remove all error:",e),X(e instanceof Error?e.message:"Failed to remove all properties")}finally{O(!1)}},en=async()=>{X(""),J("");try{(0,x.f8)()?(J("Default properties have been restored successfully."),G(!1),et(),window.dispatchEvent(new CustomEvent("propertiesUpdated")),setTimeout(()=>J(""),3e3)):X("Failed to restore default properties.")}catch(e){console.error("Restore error:",e),X(e instanceof Error?e.message:"Failed to restore default properties")}};return p?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-6 lg:py-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start space-y-4 sm:space-y-0",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Manage your properties and track performance"})]}),(0,a.jsxs)(c.$,{onClick:()=>{localStorage.removeItem("admin-logged-in"),localStorage.removeItem("admin-remember"),e.push("/admin-login")},variant:"outline",className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 w-full sm:w-auto justify-center sm:justify-start",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Logout"})]})]})}),H&&(0,a.jsx)("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),H]})}),Q&&(0,a.jsx)("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),Q]})}),(0,a.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,a.jsx)("div",{className:"border-b border-gray-200 overflow-x-auto",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-2 sm:space-x-4 lg:space-x-8 min-w-max sm:min-w-0",children:[{id:"overview",label:"Overview",icon:h},{id:"properties",label:"Properties",icon:u.A},{id:"upload-video",label:"Upload Video",icon:y.A},{id:"settings",label:"Settings",icon:j.A}].map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>E(e.id),className:"flex items-center space-x-1 sm:space-x-2 py-2 px-2 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap ".concat(M===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(s,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),(0,a.jsx)("span",{className:"hidden xs:inline sm:inline",children:e.label}),(0,a.jsx)("span",{className:"xs:hidden sm:hidden",children:e.label.split(" ")[0]})]},e.id)})})})}),"overview"===M&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(u.A,{className:"h-8 w-8 text-primary-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Properties"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:P.totalProperties})]})]})})}),(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(g.A,{className:"h-8 w-8 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Views"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:P.totalViews.toLocaleString()})]})]})})}),(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(w,{className:"h-8 w-8 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["₵",P.totalRevenue.toLocaleString()]})]})]})})}),(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(v,{className:"h-8 w-8 text-red-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Pending Approvals"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:P.pendingApprovals})]})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Recent Properties"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:s.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.location})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("buy"===e.purpose?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:e.purpose.toUpperCase()})})]},e.id))})})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Quick Actions"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(c.$,{className:"w-full justify-start",onClick:()=>E("properties"),children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Manage Properties"]}),(0,a.jsxs)(c.$,{variant:"outline",className:"w-full justify-start",onClick:()=>e.push("/upload"),children:[(0,a.jsx)(N,{className:"h-4 w-4 mr-2"}),"Add New Property"]}),(0,a.jsxs)(c.$,{variant:"outline",className:"w-full justify-start",onClick:()=>E("upload-video"),children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Upload Property Video"]}),(0,a.jsxs)(c.$,{variant:"outline",className:"w-full justify-start",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Settings"]})]})})]})]})]}),"properties"===M&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Properties Management"}),(0,a.jsxs)("p",{className:"text-sm sm:text-base text-gray-600",children:["Manage all your property listings (",ei," uploaded, ",ed," default)"]}),Y&&(0,a.jsx)("p",{className:"text-sm text-orange-600 mt-1",children:"⚠️ Default properties are currently hidden"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[(0,a.jsxs)(c.$,{variant:"outline",onClick:()=>{F(!0)},disabled:0===ei,className:"text-red-600 border-red-600 hover:bg-red-50",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Clear All Uploaded"]}),Y?(0,a.jsxs)(c.$,{variant:"outline",onClick:en,className:"text-green-600 border-green-600 hover:bg-green-50",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Restore Defaults"]}):(0,a.jsxs)(c.$,{variant:"outline",onClick:()=>{q(!0)},className:"text-red-600 border-red-600 hover:bg-red-50",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Remove All Properties"]}),(0,a.jsxs)(c.$,{onClick:()=>e.push("/upload"),children:[(0,a.jsx)(N,{className:"h-4 w-4 mr-2"}),"Add Property"]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:s.map(e=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.A,{property:e}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-1",children:[(0,a.jsx)(c.$,{size:"sm",variant:"outline",className:"bg-white bg-opacity-90 hover:bg-opacity-100",onClick:()=>{console.log("Edit property:",e.id)},children:(0,a.jsx)(b,{className:"h-3 w-3"})}),(0,a.jsx)(c.$,{size:"sm",variant:"outline",className:"bg-white bg-opacity-90 hover:bg-opacity-100 text-red-600 border-red-600 hover:bg-red-50",onClick:()=>(e=>{let t=s.find(s=>s.id===e);t&&(D(t),T(!0))})(e.id),children:(0,a.jsx)(f.A,{className:"h-3 w-3"})})]})]},e.id))})]}),"upload-video"===M&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Upload Property Video"}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Upload promotional videos for your properties"})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Video Upload"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Property"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,a.jsx)("option",{value:"",children:"Choose a property..."}),s.map(e=>(0,a.jsx)("option",{value:e.id,children:e.title},e.id))]})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[(0,a.jsx)(y.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Property Video"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Drag and drop your video file here, or click to browse"}),(0,a.jsxs)(c.$,{onClick:()=>{console.log("Upload property video")},children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Choose Video File"]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Supported formats: MP4, MOV, AVI (Max 100MB)"})]}),(0,a.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Video Preview"}),(0,a.jsx)("div",{className:"aspect-video bg-gray-200 rounded-lg flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No video selected"})})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(c.$,{disabled:!0,children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Upload Video"]})})]})})]})]}),"settings"===M&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Admin Settings"}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Manage your admin account and security settings"})]}),(0,a.jsx)("div",{className:"max-w-2xl",children:(0,a.jsx)(z,{onPasswordChange:e=>{J("Password changed successfully! Please restart the application for changes to take effect."),setTimeout(()=>J(""),5e3)}})}),(0,a.jsxs)(i.Zp,{className:"max-w-2xl",children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Security Information"})}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Current Admin Email"}),(0,a.jsx)("p",{className:"text-blue-700",children:R.env.NEXT_PUBLIC_ADMIN_EMAIL||"services@kinglemuelrealestategh.com"})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-yellow-900 mb-2",children:"Security Notice"}),(0,a.jsx)("p",{className:"text-yellow-700 text-sm",children:"For production deployment, ensure that admin credentials are stored securely and never exposed in client-side code or public repositories."})]}),(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-green-900 mb-2",children:"Best Practices"}),(0,a.jsxs)("ul",{className:"text-green-700 text-sm space-y-1",children:[(0,a.jsx)("li",{children:"• Use strong, unique passwords"}),(0,a.jsx)("li",{children:"• Change passwords regularly"}),(0,a.jsx)("li",{children:"• Enable two-factor authentication when possible"}),(0,a.jsx)("li",{children:"• Monitor admin access logs"})]})]})]})]})]}),I&&V&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3 text-center",children:[(0,a.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,a.jsx)(A,{className:"h-6 w-6 text-red-600"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Property"}),(0,a.jsxs)("div",{className:"mt-2 px-7 py-3",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Are you sure you want to delete ",(0,a.jsxs)("strong",{children:['"',V.title,'"']}),"? This action cannot be undone."]}),K.has(V.id)?(0,a.jsx)("p",{className:"text-xs text-red-600 mt-2",children:"⚠ This is a default property and cannot be deleted."}):ea(V)?(0,a.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"✓ This property can be deleted."}):(0,a.jsx)("p",{className:"text-xs text-yellow-600 mt-2",children:"ℹ Backend not configured. Set Supabase environment variables to enable deletion."})]}),(0,a.jsx)("div",{className:"items-center px-4 py-3",children:(0,a.jsxs)("div",{className:"flex space-x-3 justify-center",children:[(0,a.jsx)(c.$,{variant:"outline",onClick:()=>{T(!1),D(null),X("")},disabled:U,children:"Cancel"}),(0,a.jsx)(c.$,{onClick:er,disabled:U||!ea(V),className:"bg-red-600 hover:bg-red-700 text-white",children:U?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Delete Property"]})})]})})]})})}),Z&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3 text-center",children:[(0,a.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,a.jsx)(A,{className:"h-6 w-6 text-red-600"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete All Uploaded Properties"}),(0,a.jsxs)("div",{className:"mt-2 px-7 py-3",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Are you sure you want to delete ",(0,a.jsxs)("strong",{children:["all ",ei," uploaded properties"]}),"? This action cannot be undone and will only affect properties you have uploaded."]}),(0,a.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"ℹ Default properties will remain untouched."})]}),(0,a.jsx)("div",{className:"items-center px-4 py-3",children:(0,a.jsxs)("div",{className:"flex space-x-3 justify-center",children:[(0,a.jsx)(c.$,{variant:"outline",onClick:()=>{F(!1),X("")},disabled:L,children:"Cancel"}),(0,a.jsx)(c.$,{onClick:el,disabled:L||0===ei,className:"bg-red-600 hover:bg-red-700 text-white",children:L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting All..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Delete All (",ei,")"]})})]})})]})})}),W&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3 text-center",children:[(0,a.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,a.jsx)(A,{className:"h-6 w-6 text-red-600"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Remove All Properties"}),(0,a.jsxs)("div",{className:"mt-2 px-7 py-3",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Are you sure you want to remove ",(0,a.jsx)("strong",{children:"ALL properties"})," from the website? This will hide all default properties and delete all uploaded properties."]}),(0,a.jsx)("p",{className:"text-xs text-red-600 mt-2",children:"⚠️ This action will make the website appear empty until you add new properties."}),(0,a.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:'ℹ️ You can restore default properties later using the "Restore Defaults" button.'})]}),(0,a.jsx)("div",{className:"items-center px-4 py-3",children:(0,a.jsxs)("div",{className:"flex space-x-3 justify-center",children:[(0,a.jsx)(c.$,{variant:"outline",onClick:()=>{q(!1),X("")},disabled:_,children:"Cancel"}),(0,a.jsx)(c.$,{onClick:ec,disabled:_,className:"bg-red-600 hover:bg-red-700 text-white",children:_?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Removing All..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Remove All Properties"]})})]})})]})})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Checking authorization..."})]})})}},9708:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5105).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[997,619,55,858,598,441,255,358],()=>e(e.s=4115)),_N_E=e.O()}]);